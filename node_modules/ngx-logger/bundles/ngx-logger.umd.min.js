!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/common"),require("rxjs")):"function"==typeof define&&define.amd?define("ngx-logger",["exports","@angular/core","@angular/common/http","@angular/common","rxjs"],t):t(e["ngx-logger"]={},e.ng.core,e.ng.common.http,e.ng.common,e.rxjs)}(this,function(e,t,y,r,i){"use strict";function o(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(c){n={error:c}}finally{try{r&&!r.done&&(o=i["return"])&&o.call(i)}finally{if(n)throw n.error}}return a}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}var n=function(){function e(e){this.http=e}return e.prototype.logOnServer=function(e,t,o){return this.http.post(e,t,o||{})},e}();n.decorators=[{type:t.Injectable}],n.ctorParameters=function(){return[{type:y.HttpClient}]};var v={TRACE:0,DEBUG:1,INFO:2,LOG:3,WARN:4,ERROR:5,FATAL:6,OFF:7};v[v.TRACE]="TRACE",v[v.DEBUG]="DEBUG",v[v.INFO]="INFO",v[v.LOG]="LOG",v[v.WARN]="WARN",v[v.ERROR]="ERROR",v[v.FATAL]="FATAL",v[v.OFF]="OFF";var c=function L(){},s=function(){function e(e){this.config=e,this._config=e}return e.prototype.updateConfig=function(e){this._config=this._clone(e)},e.prototype.getConfig=function(){return this._clone(this._config)},e.prototype._clone=function(t){var o=new c;return Object.keys(t).forEach(function(e){o[e]=t[e]}),o},e}(),m=function(){function e(){}return e.prepareMetaString=function(e,t,o,r){return e+" "+t+(o?" ["+o+":"+r+"]":"")},e.getColor=function(e){switch(e){case v.TRACE:return"blue";case v.DEBUG:return"teal";case v.INFO:case v.LOG:return"gray";case v.WARN:case v.ERROR:case v.FATAL:return"red";case v.OFF:default:return}},e.getCallerDetails=function(){var e=new Error("");try{var t=e.stack.split("\n")[4].split("/"),o=t[t.length-1].replace(/[)]/g,"").split(":");return{fileName:o[0],lineNumber:o[1]}}catch(r){return{fileName:null,lineNumber:null}}},e.prepareMessage=function(e){try{"string"==typeof e||e instanceof Error||(e=JSON.stringify(e,null,2))}catch(t){e='The provided "message" value could not be parsed with JSON.stringify().'}return e},e.prepareAdditionalParameters=function(e){return null===e||e===undefined?null:e.map(function(e,t){try{return"object"==typeof e&&JSON.stringify(e),e}catch(o){return"The additional["+t+"] value could not be parsed using JSON.stringify()."}})},e}(),R=["TRACE","DEBUG","INFO","LOG","WARN","ERROR","FATAL","OFF"],u=function(){function e(e,t,o){this.httpService=e,this.platformId=o,this._isIE=r.isPlatformBrowser(o)&&!(-1===navigator.userAgent.indexOf("MSIE")&&!navigator.userAgent.match(/Trident\//)&&!navigator.userAgent.match(/Edge\//)),this.config=new s(t),this._logFunc=this._isIE?this._logIE.bind(this):this._logModern.bind(this)}return e.prototype.trace=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(v.TRACE,e,t)},e.prototype.debug=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(v.DEBUG,e,t)},e.prototype.info=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(v.INFO,e,t)},e.prototype.log=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(v.LOG,e,t)},e.prototype.warn=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(v.WARN,e,t)},e.prototype.error=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(v.ERROR,e,t)},e.prototype.fatal=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(v.FATAL,e,t)},e.prototype.setCustomHttpHeaders=function(e){this._customHttpHeaders=e},e.prototype.setCustomParams=function(e){this._customParams=e},e.prototype.registerMonitor=function(e){this._loggerMonitor=e},e.prototype.updateConfig=function(e){this.config.updateConfig(e)},e.prototype.getConfigSnapshot=function(){return this.config.getConfig()},e.prototype._logIE=function(e,t,o,r){switch(r=r||[],e){case v.WARN:console.warn.apply(console,a([t+" ",o],r));break;case v.ERROR:case v.FATAL:console.error.apply(console,a([t+" ",o],r));break;case v.INFO:console.info.apply(console,a([t+" ",o],r));break;default:console.log.apply(console,a([t+" ",o],r))}},e.prototype._logModern=function(e,t,o,r){var n=m.getColor(e);switch(r=r||[],e){case v.WARN:console.warn.apply(console,a(["%c"+t,"color:"+n,o],r));break;case v.ERROR:case v.FATAL:console.error.apply(console,a(["%c"+t,"color:"+n,o],r));break;case v.INFO:console.info.apply(console,a(["%c"+t,"color:"+n,o],r));break;default:console.log.apply(console,a(["%c"+t,"color:"+n,o],r))}},e.prototype._log=function(e,t,o,r){var n=this;void 0===o&&(o=[]),void 0===r&&(r=!0);var i=this.config.getConfig(),a=r&&i.serverLoggingUrl&&e>=i.serverLogLevel,c=e>=i.level;if(t&&(a||c)){var s=R[e];t=m.prepareMessage(t);var u=m.prepareAdditionalParameters(o),l=(new Date).toISOString(),p=m.getCallerDetails(),f={message:t,additional:u,level:e,timestamp:l,fileName:p.fileName,lineNumber:p.lineNumber};if(this._loggerMonitor&&c&&this._loggerMonitor.onLog(f),a){t=t instanceof Error?t.stack:t,f.message=t;var g=this._customHttpHeaders||new y.HttpHeaders;g.set("Content-Type","application/json");var h={headers:g,params:this._customParams||new y.HttpParams,responseType:i.httpResponseType||"json"};this.httpService.logOnServer(i.serverLoggingUrl,f,h).subscribe(function(e){},function(e){n._log(v.ERROR,"FAILED TO LOG ON SERVER: "+t,[e],!1)})}if(c&&!i.disableConsoleLogging){var d=m.prepareMetaString(l,s,p.fileName,p.lineNumber);return this._logFunc(e,d,t,o)}}},e}();u.decorators=[{type:t.Injectable}],u.ctorParameters=function(){return[{type:n},{type:c},{type:undefined,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]};var l=function(){function e(e,t){this.httpService=e,this.platformId=t}return e.prototype.create=function(e,t,o){var r=new u(t||this.httpService,e,this.platformId);return o&&r.registerMonitor(o),r},e}();l.decorators=[{type:t.Injectable}],l.ctorParameters=function(){return[{type:n},{type:undefined,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]};var p=function A(){},f=function C(){},g=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:c,useValue:e||{}},u,n,l]}},t.forChild=function(){return{ngModule:t,providers:[u,n,l]}},t}();g.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,y.HttpClientModule],providers:[u,n,l]}]}];var h=function(){function e(){}return e.prototype.trace=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.debug=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.info=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.log=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.warn=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.error=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.fatal=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.updateConfig=function(e){},e.prototype.setCustomHttpHeaders=function(e){},e.prototype.setCustomParams=function(e){},e.prototype.registerMonitor=function(e){},e.prototype.getConfigSnapshot=function(){return new c},e}(),d=function(){function e(){}return e.prototype.create=function(){return new h},e}(),O=function(){function e(){}return e.prototype.logOnServer=function(e,t,o,r,n){return i.of({})},e}(),N=function E(){};N.decorators=[{type:t.NgModule,args:[{providers:[{provide:u,useClass:h},{provide:n,useClass:O},{provide:l,useClass:d}]}]}],e.LoggerModule=g,e.Levels=R,e.NGXLogger=u,e.LoggerConfig=c,e.CustomNGXLoggerService=l,e.NGXLoggerMonitor=p,e.NGXLoggerHttpService=n,e.NGXLoggerUtils=m,e.NgxLoggerLevel=v,e.NGXLogInterface=f,e.NGXLoggerMock=h,e.CustomNGXLoggerServiceMock=d,e.NGXLoggerHttpServiceMock=O,e.LoggerTestingModule=N,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-logger.umd.min.js.map
